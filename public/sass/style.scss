// sass --watch public/sass/style.scss:public/css/style.css
@import url(https://fonts.googleapis.com/css?family=VT323);
$handColor: burlywood;
$heights: (20,22,21,18.5,19.5);
$mainOffset: 20;
$thumbH: nth($heights, 5);
$dimension: 400;
$bColors:(blue,red,green,orange,yellow,purple);
$bIdx: random(length($bColors));
@function getRandom(){
  @return nth($bColors,$bIdx);
}
$bodyColor: getRandom();
$pFont:'VT323',sans-serif;

@mixin fingerTransition($speed){
  -moz-transition:transform ($speed)+s,height ($speed)+s, background ($speed)+s, z-index ($speed)+s;
  -o-transition:transform ($speed)+s,height ($speed)+s, background ($speed)+s, z-index ($speed)+s;
  -webkit-transition:transform ($speed)+s,height ($speed)+s, background ($speed)+s, z-index ($speed)+s;
  transition: transform ($speed)+s,height ($speed)+s, background ($speed)+s, z-index ($speed)+s;
  transform-origin: top;
}
@mixin fingerZ{
  .finger{
    z-index:1;
  }
}
@mixin fingerDown($h){
  height:$h+vh;
  transform:translateY(($h - $mainOffset)+vh);
}
@mixin fingerUp($h){
  height:$h+vh;
  background:lighten($handColor,10);
  z-index:0;
  transform: translateY((4.5)+vh)rotateX(-165deg);
}
@mixin thumb($h,$a,$z,$x){
  height:$h+vh;
  transform-origin: bottom;
  transform: translateX(($x)+px)rotate(($a)+deg);
  z-index:$z;
}
@mixin upDown($idx,$finger,$h){
  @if $finger > $idx {
    @include fingerDown($h);
  } @else {
    @include fingerUp($h);
  }
}
@mixin handState($idx){
  @include fingerZ;
  .first{
    @include upDown($idx,1,nth($heights, 1))
  }
  .second{
    @include upDown($idx,2,nth($heights, 2))
  }
  .third{
    @include upDown($idx,3,nth($heights, 3))
  }
  .fourth{
    @include upDown($idx,4,nth($heights, 4))
  }
}
*{
  font-family: $pFont;
  box-sizing: border-box;
  margin:0
}
body{
  background:lighten($bodyColor,40);
}
.finger{
  @include fingerTransition(0.75);
  display: inline-block;
  position:relative;
  width:20%;
  border:1px solid black;
  border-radius: 10%;
  background-color: $handColor;
}
#fingers{
  position:absolute;
  bottom:20%;
  left:0%;
  height:auto;
  width:80%;
  font-size:0;
}
#palm{
  position:absolute;
  bottom:0;
  left:17%;
  width:63%;
  height:40%;
  border:1px solid black;
  border-radius:10%;
  border-bottom-left-radius: 30%;
  border-bottom-right-radius: 30%;
  background:lighten($handColor,10);
}
#finger-block{
  position:absolute;
  left:20%;
  width:80%;
  height:83%;
  bottom:-1px;
  background:lighten($handColor,10);
  z-index:0;
}
#hand{
  position:relative;
  margin:0 auto;
  height:($dimension)+px;
  width:($dimension)+px;

  &.zero{
    @include handState(0);
    .fifth{
      @include thumb($thumbH,45,2,0)
    }
  }
  &.one{
    @include handState(1);
    .fifth{
      @include thumb($thumbH,48,2,0)
    }
  }
  &.two{
    @include handState(2);
    .fifth{
      @include thumb($thumbH,49,2,0)
    }
  }
  &.three{
    @include handState(3);
    .fifth{
      @include thumb($thumbH,50,2,0)
    }
  }
  &.four{
    @include handState(4);
    .fifth{
      @include thumb($thumbH,48,2,0)
    }
  }
  &.five{
    @include handState(5);
    .fifth{
      @include thumb($thumbH,-40,1,65);
      background:lighten($handColor,10);
      border-bottom:none;
    }
  }
}
ul{
  display:block;
  margin:50px auto;
  text-align: center;
  font-size:0;
}
li{
  display:inline-block;
  line-height: 45px;
  vertical-align: middle;
  height:50px;
  width:50px;
  font-size: 40px;
  border:1px solid black;
  border-radius:5px;
  cursor: pointer;
  &.selected{
    background:lighten($bodyColor,20)
  }
  &:first-of-type{
    margin-left:-5%;
  }
}
header{
  padding:20px;
  background:lighten($bodyColor,30);
  font-size: 54px;
  font-weight: bold;
}
button{
  margin:0 auto;
  margin-top:150px;
  height:100px;
  width:auto;
  padding:10px;
  font-size:48px;
  display:block;
  font-weight: bold;
  border-radius: 10px;
  cursor:pointer;
  background: darken($bodyColor,16);
  color:white;
}
input{
  display:block;
  width:550px;
  height:50px;
  font-size:32px;
  margin:30px auto;
  border-radius: 10px;
}
